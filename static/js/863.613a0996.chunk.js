/*! For license information please see 863.613a0996.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunknrug_arrival_form_frontend=self.webpackChunknrug_arrival_form_frontend||[]).push([[863],{2041:function(t,n,e){e.d(n,{M:function(){return x}});var r=e(885),i=e(1413),a=e(5671),o=e(3144),u=e(136),s=e(9388),c=e(6323),l=e(8038),d=e(3197);function f(){return""+location}var v=e(8958),h=e(8575),y=e(6276),g=e(1997),p=e(4355);function b(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t&&"object"===typeof t?(Object.keys(t).forEach((function(i){"object"===typeof t[i]?b(t[i],n,e,r):typeof t[i]!==e||r.includes(i)||(t[i]=n(t[i]))})),t):t}var m=e(3114),Z=e(8374),w=e(3980),k=e(1760),A={},x=function(t){(0,u.Z)(e,t);var n=(0,s.Z)(e);function e(t){var r;return(0,a.Z)(this,e),(r=n.call(this,t)).tooManyRequestsDelay=(0,v.Mt)(r.sharedContext.agentIdentifier,"harvest.tooManyRequestsDelay")||60,r.obfuscator=new p.RR(r.sharedContext),r._events={},r}return(0,o.Z)(e,[{key:"sendX",value:function(){var t,n,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=d.qD({isFinalHarvest:null===(t=r.opts)||void 0===t?void 0:t.unload}),o={retry:!(null!==(n=r.opts)&&void 0!==n&&n.unload)&&a===d.Be,isFinalHarvest:!0===(null===(e=r.opts)||void 0===e?void 0:e.unload)},u=this.createPayload(r.endpoint,o);return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))((0,i.Z)((0,i.Z)({},r),{},{payload:u,submitMethod:a}))}},{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))(t)}},{key:"obfuscateAndSend",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.payload,r=void 0===e?{}:e;return b(r,(function(){var n;return(n=t.obfuscator).obfuscateString.apply(n,arguments)}),"string",["e"]),this._send((0,i.Z)((0,i.Z)({},n),{},{payload:r}))}},{key:"_send",value:function(t){var n,e=t.endpoint,r=t.payload,i=void 0===r?{}:r,a=t.opts,o=void 0===a?{}:a,u=t.submitMethod,s=t.cbFinished,f=t.customUrl,h=t.raw,y=t.includeBaseParams,p=void 0===y||y,b=(0,v.C5)(this.sharedContext.agentIdentifier);if(!b.errorBeacon)return!1;var m=(0,v.OP)(this.sharedContext.agentIdentifier),Z=this.cleanPayload(i),x=Z.body,C=Z.qs;if(0===Object.keys(x).length&&(null===o||void 0===o||!o.sendEmptyBody))return s&&s({sent:!1}),!1;var _=(0,v.P_)(this.sharedContext.agentIdentifier),j=!1===_.ssl?"http":"https",q=_.proxy.beacon||b.errorBeacon,P="rum"!==e?"/".concat(e):"",R="".concat(j,"://").concat(q).concat(P,"/1/").concat(b.licenseKey);f&&(R=f),h&&(R="".concat(j,"://").concat(q,"/").concat(e));var I=!h&&p?this.baseQueryString():"",B=(0,c.j6)(C,m.maxBytes);u||(u=d.qD({isFinalHarvest:o.unload})),""===I&&B.startsWith("&")&&(B=B.substring(1));var O="".concat(R,"?").concat(I).concat(B);!(null===C||void 0===C||null===(n=C.attributes)||void 0===n||!n.includes("gzip"))||(x="events"===e?x.e:(0,l.P)(x)).length>75e4&&1===(A[e]=((null===A||void 0===A?void 0:A[e])||0)+1)&&(0,k.Z)("The Browser Agent is attempting to send a very large payload to /".concat(e,". This is usually tied to large amounts of custom attributes. Please check your configurations.")),x&&0!==x.length&&"{}"!==x&&"[]"!==x||(x="");var D=[];D.push({key:"content-type",value:"text/plain"});var F=u({url:O,body:x,sync:o.unload&&(w.v6||w.w1),headers:D});if(!o.unload&&s&&u===d.Be){var S=this;F.addEventListener("load",(function(){var t={sent:!0,status:this.status};429===this.status?(t.retry=!0,t.delay=S.tooManyRequestsDelay):408!==this.status&&500!==this.status&&503!==this.status||(t.retry=!0),o.needResponse&&(t.responseText=this.responseText),s(t)}),(0,g.m$)(!1))}return F}},{key:"baseQueryString",value:function(){var t,n=(0,v.OP)(this.sharedContext.agentIdentifier),e=(0,v.C5)(this.sharedContext.agentIdentifier),r=(0,h.f)(f()),i=this.obfuscator.shouldObfuscate()?this.obfuscator.obfuscateString(r):r;return["a="+e.applicationID,(0,c.wu)("sa",e.sa?""+e.sa:""),(0,c.wu)("v",Z.q4),C(e),(0,c.wu)("ct",n.customTransaction),"&rst="+(0,y.z)(),"&ck=0","&s="+((null===(t=n.session)||void 0===t?void 0:t.state.value)||"0"),(0,c.wu)("ref",i),(0,c.wu)("ptid",n.ptid?""+n.ptid:"")].join("")}},{key:"createPayload",value:function(t,n){var e=this._events[t],r={body:{},qs:{}};if(Array.isArray(e)&&e.length>0)for(var a=0;a<e.length;a++){var o=e[a](n);o&&(r.body=(0,i.Z)((0,i.Z)({},r.body),o.body||{}),r.qs=(0,i.Z)((0,i.Z)({},r.qs),o.qs||{}))}return r}},{key:"cleanPayload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(t){return"undefined"!==typeof Uint8Array&&t instanceof Uint8Array||Array.isArray(t)?t:"string"===typeof t?t.length>0?t:null:Object.entries(t||{}).reduce((function(t,n){var e=(0,r.Z)(n,2),i=e[0],a=e[1];return("number"===typeof a||"string"===typeof a&&a.length>0||"object"===typeof a&&Object.keys(a||{}).length>0)&&(t[i]=a),t}),{})};return{body:n(t.body),qs:n(t.qs)}}},{key:"on",value:function(t,n){Array.isArray(this._events[t])||(this._events[t]=[]),this._events[t].push(n)}}]),e}(m.w);function C(t){return t.transactionName?(0,c.wu)("to",t.transactionName):(0,c.wu)("t",t.tNamePlain||"Unnamed Transaction")}},8575:function(t,n,e){e.d(n,{f:function(){return a}});var r=/([^?#]*)[^#]*(#[^?]*|$).*/,i=/([^?#]*)().*/;function a(t,n){return t.replace(n?r:i,"$1$2")}},6323:function(t,n,e){e.d(n,{j6:function(){return l},wu:function(){return d}});var r=e(3973),i=e(8038),a={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},o=(0,r.D)(a,(function(t){return t})),u=new RegExp(o.join("|"),"g");function s(t){return a[t]}function c(t){return null===t||void 0===t?"null":encodeURIComponent(t).replace(u,s)}function l(t,n){var e=0,a="";return(0,r.D)(t,(function(t,r){var o,u,s=[];if("string"===typeof r||!Array.isArray(r)&&null!==r&&void 0!==r&&r.toString().length)o="&"+t+"="+c(r),e+=o.length,a+=o;else if(Array.isArray(r)&&r.length){for(e+=9,u=0;u<r.length&&(o=c((0,i.P)(r[u])),e+=o.length,!("undefined"!==typeof n&&e>=n));u++)s.push(o);a+="&"+t+"=%5B"+s.join(",")+"%5D"}})),a}function d(t,n){return n&&"string"===typeof n?"&"+t+"="+c(n):""}},8649:function(t,n,e){e.d(n,{V:function(){return i}});var r=e(3980);function i(){var t;return Boolean("file:"===(null===r._A||void 0===r._A||null===(t=r._A.location)||void 0===t?void 0:t.protocol))}},4355:function(t,n,e){e.d(n,{$c:function(){return v},Ng:function(){return h},RR:function(){return f}});var r=e(5671),i=e(3144),a=e(136),o=e(9388),u=e(8958),s=e(3114),c=e(8649),l=e(1760),d={regex:/^file:\/\/(.*)/,replacement:atob("ZmlsZTovL09CRlVTQ0FURUQ=")},f=function(t){(0,a.Z)(e,t);var n=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),n.apply(this,arguments)}return(0,i.Z)(e,[{key:"shouldObfuscate",value:function(){return v(this.sharedContext.agentIdentifier).length>0}},{key:"obfuscateString",value:function(t){if(!t||"string"!==typeof t)return t;for(var n=v(this.sharedContext.agentIdentifier),e=t,r=0;r<n.length;r++){var i=n[r].regex,a=n[r].replacement||"*";e=e.replace(i,a)}return e}}]),e}(s.w);function v(t){var n=[],e=(0,u.Mt)(t,"obfuscate")||[];return n=n.concat(e),(0,c.V)()&&n.push(d),n}function h(t){for(var n=!1,e=!1,r=0;r<t.length;r++){"regex"in t[r]?"string"===typeof t[r].regex||t[r].regex instanceof RegExp||((0,l.Z)('An obfuscation replacement rule contains a "regex" value with an invalid type (must be a string or RegExp)'),e=!0):((0,l.Z)('An obfuscation replacement rule was detected missing a "regex" value.'),e=!0);var i=t[r].replacement;i&&"string"!==typeof i&&((0,l.Z)('An obfuscation replacement rule contains a "replacement" value with an invalid type (must be a string)'),n=!0)}return!n&&!e}},3197:function(t,n,e){e.d(n,{Be:function(){return a},qD:function(){return i}});var r=e(3980);function i(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isFinalHarvest;return void 0!==t&&t&&r.il&&r.Nk?o:a}function a(t){var n=t.url,e=t.body,r=void 0===e?null:e,i=t.sync,a=t.method,o=void 0===a?"POST":a,u=t.headers,s=void 0===u?[{key:"content-type",value:"text/plain"}]:u,c=new XMLHttpRequest;c.open(o,n,!i);try{"withCredentials"in c&&(c.withCredentials=!0)}catch(l){}return s.forEach((function(t){c.setRequestHeader(t.key,t.value)})),c.send(r),c}function o(t){var n=t.url,e=t.body;try{return window.navigator.sendBeacon.bind(window.navigator)(n,e)}catch(r){return!1}}},1527:function(t,n,e){e.d(n,{m:function(){return h}});var r=e(1413),i=e(5671),a=e(3144),o=e(136),u=e(9388),s=e(4613),c=e(9078),l=e(8958),d=e(8456),f=e(9700),v=e(7552),h=function(t){(0,o.Z)(e,t);var n=(0,u.Z)(e);function e(){var t;return(0,i.Z)(this,e),(t=n.apply(this,arguments)).checkConfiguration(),t}return(0,a.Z)(e,[{key:"waitForFlags",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(n.map((function(n){return new Promise((function(e){(0,s.X)("rumresp-".concat(n),(function(t){return e(t)}),t.featureName,t.ee)}))})))}},{key:"drain",value:function(){(0,v.L)(this.agentIdentifier,this.featureName)}},{key:"checkConfiguration",value:function(){if(!(0,l.lF)(this.agentIdentifier)){var t,n=(0,r.Z)({},null===(t=(0,f.gG)().info)||void 0===t?void 0:t.jsAttributes);try{var e;n=(0,r.Z)((0,r.Z)({},n),null===(e=(0,l.C5)(this.agentIdentifier))||void 0===e?void 0:e.jsAttributes)}catch(i){}(0,d.j)(this.agentIdentifier,(0,r.Z)((0,r.Z)({},(0,f.gG)()),{},{info:(0,r.Z)((0,r.Z)({},(0,f.gG)().info),{},{jsAttributes:n}),runtime:(0,l.OP)(this.agentIdentifier)}))}}}]),e}(c.W)}}]);
//# sourceMappingURL=863.613a0996.chunk.js.map