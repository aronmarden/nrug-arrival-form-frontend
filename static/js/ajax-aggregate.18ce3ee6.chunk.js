"use strict";(self.webpackChunknrug_arrival_form_frontend=self.webpackChunknrug_arrival_form_frontend||[]).push([[898],{3620:function(t,e,n){n.d(e,{R:function(){return o},z:function(){return a}});var r=n(885),i=[];function a(t){if(0===i.length)return!0;if(void 0===t.hostname)return!1;for(var e=0;e<i.length;e++){var n=i[e];if("*"===n.hostname)return!1;if(s(n.hostname,t.hostname)&&u(n.pathname,t.pathname))return!1}return!0}function o(t){if(i=[],t&&t.length)for(var e=0;e<t.length;e++){var n=t[e];if(n){0===n.indexOf("http://")?n=n.substring(7):0===n.indexOf("https://")&&(n=n.substring(8));var a=n.indexOf("/"),o=void 0,s=void 0;a>0?(o=n.substring(0,a),s=n.substring(a)):(o=n,s="");var u=o.split(":"),d=(0,r.Z)(u,1)[0];i.push({hostname:d,pathname:s})}}}function s(t,e){return!(t.length>e.length)&&e.indexOf(t)===e.length-t.length}function u(t,e){return 0===t.indexOf("/")&&(t=t.substring(1)),0===e.indexOf("/")&&(e=e.substring(1)),""===t||t===e}},7661:function(t,e,n){n.d(e,{o:function(){return v}});var r=n(2982),i=n(5671),a=n(3144),o=n(7326),s=n(136),u=n(9388),d=n(3197),h=n(3114),l=n(2041),f=n(8464),c=n(9471),v=function(t){(0,s.Z)(n,t);var e=(0,u.Z)(n);function n(t,r,a){var s,u;return(0,i.Z)(this,n),(u=e.call(this,a)).endpoint=t,u.opts=r||{},u.started=!1,u.timeoutHandle=null,u.aborted=!1,u.harvest=new l.M(u.sharedContext),(0,f.L)(u.unload.bind((0,o.Z)(u))),null===(s=u.sharedContext)||void 0===s||s.ee.on(c.wO.RESET,(function(){return u.runHarvest({forceNoRetry:!0})})),u}return(0,a.Z)(n,[{key:"unload",value:function(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}},{key:"startTimer",value:function(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}},{key:"stopTimer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=t,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}},{key:"scheduleHarvest",value:function(t,e){var n=this;this.timeoutHandle||(null==t&&(t=this.interval),this.timeoutHandle=setTimeout((function(){n.timeoutHandle=null,n.runHarvest(e)}),1e3*t))}},{key:"runHarvest",value:function(t){var e=this;if(!this.aborted){var n,i,a=function(n){null!==t&&void 0!==t&&t.forceNoRetry&&(n.retry=!1),e.onHarvestFinished(t,n)},o=[];if(this.opts.getPayload){if(!(n=d.qD({isFinalHarvest:null===t||void 0===t?void 0:t.unload})))return!1;var s=!(null!==t&&void 0!==t&&t.unload)&&n===d.Be;if(!(i=this.opts.getPayload({retry:s})))return void(this.started&&this.scheduleHarvest());i="[object Array]"===Object.prototype.toString.call(i)?i:[i],o.push.apply(o,(0,r.Z)(i))}var u=function(t){return e.harvest.sendX(t)};o.length?u=this.opts.raw?function(t){return e.harvest._send(t)}:function(t){return e.harvest.send(t)}:o.push(void 0),o.forEach((function(r){u({endpoint:e.endpoint,payload:r,opts:t,submitMethod:n,cbFinished:a,customUrl:e.opts.customUrl,raw:e.opts.raw})})),this.started&&this.scheduleHarvest()}}},{key:"onHarvestFinished",value:function(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){var n=e.delay||this.opts.retryDelay;this.started&&n?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(n,t)):!this.started&&n&&this.scheduleHarvest(n,t)}}}]),n}(h.w)},6313:function(t,e,n){n.d(e,{AG:function(){return u},FX:function(){return h},n1:function(){return l},uR:function(){return d}});var r=n(3973),i=n(8038),a=n(4355),o=Object.prototype.hasOwnProperty,s=64;function u(t,e,n){return t||0===t||""===t?e(t)+(n?",":""):"!"}function d(t,e){return e?Math.floor(t).toString(36):void 0===t||0===t?"":Math.floor(t).toString(36)}function h(t){var e=Object.hasOwnProperty("create")?Object.create(null):{},n=0;return function(r){if("undefined"===typeof r||""===r)return"";var i=new a.RR({agentIdentifier:t});r=String(r),i.shouldObfuscate()&&(r=i.obfuscateString(r));return o.call(e,r)?d(e[r],!0):(e[r]=n++,function(t){return"'"+t.replace(f,"\\$1")}(r))}}function l(t,e){var n=[];return(0,r.D)(t,(function(t,r){if(!(n.length>=s)){var a,o=5;switch(t=e(t),typeof r){case"object":r?a=e((0,i.P)(r)):o=9;break;case"number":o=6,a=r%1?r:r+".";break;case"boolean":o=r?7:8;break;case"undefined":o=9;break;default:a=e(r)}n.push([o,t+(a?","+a:"")])}})),n}var f=/([,\\;])/g},8464:function(t,e,n){n.d(e,{L:function(){return u}});var r=n(7762),i=n(1997),a=n(3980),o=n(536);if(a.v6){a._A.cleanupTasks=[];var s=a._A.close;a._A.close=function(){var t,e=(0,r.Z)(a._A.cleanupTasks);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(n){e.e(n)}finally{e.f()}s()}}function u(t){a.il?((0,o.N)(t,!0),(0,i.bP)("pagehide",t)):a.v6&&a._A.cleanupTasks.push(t)}},6193:function(t,e,n){n.r(e),n.d(e,{Aggregate:function(){return Z}});var r=n(1413),i=n(2982),a=n(3144),o=n(5671),s=n(2963),u=n(7326),d=n(136),h=n(9388),l=n(4942),f=n(4613),c=n(8038),v=n(6313),p=n(5894),y=n(8958),m=n(7661),g=n(3620),b=n(1458),S=n(9025),x=n(6477),A=n(1527),j=n(7762);function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.body,n=t.query;if(e||n)try{var r=function(t){if(!t)return;Array.isArray(t)||(t=[t]);var e,n=[],r=[],i=(0,j.Z)(t);try{for(i.s();!(e=i.n()).done;){var a=w(e.value);a&&(n.push(a.operationName),r.push(a.operationType))}}catch(o){i.e(o)}finally{i.f()}if(!r.length)return;return{operationName:n.join(","),operationType:r.join(","),operationFramework:"GraphQL"}}(H(e));if(r)return r;var i=w(function(t){if(!t||"string"!==typeof t)return;var e=new URLSearchParams(t);return H(Object.fromEntries(e))}(n));if(i)return i}catch(a){}}function w(t){if("object"===typeof t&&t.query&&"string"===typeof t.query){var e=t.query.trim().match(/^(query|mutation|subscription)\s?(\w*)/),n=null===e||void 0===e?void 0:e[1];if(n)return{operationName:t.operationName||(null===e||void 0===e?void 0:e[2])||"Anonymous",operationType:n,operationFramework:"GraphQL"}}}function H(t){var e;if(t&&("string"===typeof t||"object"===typeof t)&&(e="string"===typeof t?JSON.parse(t):t,(null===(n=e)||void 0===n?void 0:n.constructor)==={}.constructor||Array.isArray(e))){var n;if(Array.isArray(e)?e.some((function(t){return k(t)})):k(e))return e}}function k(t){return!("object"!==typeof t||!t.query||"string"!==typeof t.query)}var Z=function(t){(0,d.Z)(n,t);var e=(0,h.Z)(n);function n(t,a){var d;(0,o.Z)(this,n),d=e.call(this,t,a,b.t);var h=(0,y.P_)(t),l=!1!==h.ajax.enabled;if((0,f.X)("xhr",E,d.featureName,d.ee),!l)return d.drain(),(0,s.Z)(d);var A=(0,y.OP)(t).denyList;(0,g.R)(A);var j=[],w={},H=[],k=d.ee,Z=h.ajax.harvestTimeSeconds||10,O=h.ajax.maxPayloadSize||1e6;d.storeXhr=E,d.prepareHarvest=N,d.getStoredEvents=function(){return{ajaxEvents:j,spaAjaxEvents:w}},k.on("interactionSaved",(function(t){w[t.id]&&delete w[t.id]})),k.on("interactionDiscarded",(function(t){w[t.id]&&(w[t.id].forEach((function(t){j.push(t)})),delete w[t.id])}));var R=new m.o("events",{onFinished:function(t){if(t.retry&&H.length>0){var e;(e=j).unshift.apply(e,(0,i.Z)(H)),H=[]}},getPayload:N},(0,u.Z)(d));k.on("drain-".concat(d.featureName),(function(){R.startTimer(Z)})),d.drain();var q=(0,y.C5)(t).errorBeacon,P=h.proxy.beacon;function E(t,e,n,r,i){var o,s;if(e.time=n,s=t.cat?(0,c.P)([t.status,t.cat]):(0,c.P)([t.status,t.host,t.pathname]),a.store("xhr",s,t,e),l)if((0,g.z)(t)){(0,p.p)("bstXhrAgg",["xhr",s,t,e],void 0,S.D.sessionTrace,k);var u=this,d={method:t.method,status:t.status,domain:t.host,path:t.pathname,requestSize:e.txSize,responseSize:e.rxSize,type:i,startTime:n,endTime:r,callbackDuration:e.cbTime};if(u.dt&&(d.spanId=u.dt.spanId,d.traceId=u.dt.traceId,d.spanTimestamp=u.dt.timestamp),d.gql=t.gql=T({body:this.body,query:null===this||void 0===this||null===(o=this.parsedOrigin)||void 0===o?void 0:o.search}),d.gql&&(0,p.p)(x.xS,["Ajax/Events/GraphQL/Bytes-Added",(0,c.P)(d.gql).length],void 0,S.D.metrics,k),this.spaNode){var h=this.spaNode.interaction.id;w[h]=w[h]||[],w[h].push(d)}else j.push(d)}else t.hostname===q||P&&t.hostname===P?(0,p.p)(x.xS,["Ajax/Events/Excluded/Agent"],void 0,S.D.metrics,k):(0,p.p)(x.xS,["Ajax/Events/Excluded/App"],void 0,S.D.metrics,k)}function N(t){if(t=t||{},0===j.length)return null;for(var e=_(j,t.maxPayloadSize||O),n=[],r=0;r<e.length;r++)n.push({body:{e:e[r]}});return t.retry&&(H=j.slice()),j=[],n}function _(t,e,n){n=n||1;for(var r=[],i=function(t,e){e=e||t.length;for(var n=[],r=0,i=t.length;r<i;r+=e)n.push(new F(t.slice(r,r+e)));return n}(t,t.length/n),a=!1,o=0;o<i.length;o++){var s=i[o];if(s.tooBig(e)){if(1!==s.events.length){a=!0;break}}else r.push(s.payload)}return a?_(t,e,++n):r}function F(e){this.addString=(0,v.FX)(t),this.events=e,this.payload="bel.7;";for(var n=0;n<e.length;n++){var i=e[n],a=[(0,v.uR)(i.startTime),(0,v.uR)(i.endTime-i.startTime),(0,v.uR)(0),(0,v.uR)(0),this.addString(i.method),(0,v.uR)(i.status),this.addString(i.domain),this.addString(i.path),(0,v.uR)(i.requestSize),(0,v.uR)(i.responseSize),"fetch"===i.type?1:"",this.addString(0),(0,v.AG)(i.spanId,this.addString,!0)+(0,v.AG)(i.traceId,this.addString,!0)+(0,v.AG)(i.spanTimestamp,v.uR,!1)],o="2,",s=(0,v.n1)((0,r.Z)((0,r.Z)({},(0,y.C5)(t).jsAttributes||{}),i.gql||{}),this.addString);a.unshift((0,v.uR)(s.length)),o+=a.join(","),s&&s.length>0&&(o+=";"+s.join(";")),n+1<e.length&&(o+=";"),this.payload+=o}this.tooBig=function(t){return t=t||O,2*this.payload.length>t}}return d}return(0,a.Z)(n)}(A.m);(0,l.Z)(Z,"featureName",b.t)},7762:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(181);function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,r.Z)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}}}]);
//# sourceMappingURL=ajax-aggregate.18ce3ee6.chunk.js.map