"use strict";(self.webpackChunknrug_arrival_form_frontend=self.webpackChunknrug_arrival_form_frontend||[]).push([[242],{7924:function(t,e,n){n.r(e),n.d(e,{setupAgentSession:function(){return d}});var o=n(1413),i=n(8958),s=n(7552),r=n(4836),c=n(4613),u=n(9471),a=n(5671),v=n(3144),f=function(){function t(){(0,a.Z)(this,t)}return(0,v.Z)(t,[{key:"get",value:function(t){try{return localStorage.getItem(t)||void 0}catch(e){return""}}},{key:"set",value:function(t,e){try{return void 0===e||null===e?this.remove(t):localStorage.setItem(t,e)}catch(n){}}},{key:"remove",value:function(t){try{localStorage.removeItem(t)}catch(e){}}}]),t}(),l=function(){function t(e){(0,a.Z)(this,t),this.domain=e}return(0,v.Z)(t,[{key:"get",value:function(t){try{var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));if(e)return e[2]}catch(n){return""}}},{key:"set",value:function(t,e){try{var n="".concat(t,"=").concat(e,"; Domain=").concat(this.domain,"; Path=/");document.cookie=n}catch(o){}}},{key:"remove",value:function(t){try{document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; Domain=").concat(this.domain,"; Path=/")}catch(e){}}}]),t}(),m=0;function d(t){var e=(0,i.OP)(t);if(m++)return e.session;var n=(0,i.P_)(t).session,a=null!==n&&void 0!==n&&n.domain?new l(n.domain):new f;e.session=new u.$s({agentIdentifier:t,key:"SESSION",storage:a,expiresMs:null===n||void 0===n?void 0:n.expiresMs,inactiveMs:null===n||void 0===n?void 0:n.inactiveMs});var v=e.session.state.custom,d=(0,i.C5)(t);v&&(d.jsAttributes=(0,o.Z)((0,o.Z)({},d.jsAttributes),v));var h=r.ee.get(t);return(0,c.X)("api-setCustomAttribute",(function(t,n,o){e.session.syncCustomAttribute(n,o)}),"session",h),(0,c.X)("api-setUserId",(function(t,n,o){e.session.syncCustomAttribute(n,o)}),"session",h),(0,s.L)(t,"session"),e.session}}}]);
//# sourceMappingURL=session-manager.fcdbe5ce.chunk.js.map